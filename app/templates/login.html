{% extends "base.html" %}

{% block content %}

<h1>Login using Google below</h1>

<p>If you haven't logged in with us before, we will create an account for you when you login.</p>

<!-- The firebase login box (controls it self) -->
<div id="firebaseui-auth-container"></div>

<!-- The hidden tag is controlled from the script.js file -->
<div id="login-info" hidden=true>
    {% if user_data %}
        {% block authenticatedContent %}
            <p>Here's some of the details we have on you:</p>
            <ul>
                <li>Name: {{ user_data['name'] }}</li>
                <li>Email: {{ user_data['email'] }}</li>
            </ul>
            <button id="sign-out" class="btn btn-info" hidden=true>Sign Out</button>
        {% endblock %}
    {% elif error_message %}
        {% block unauthenticatedContent %}
            <p>Error: {{ error_message }}</p>
            <button id="sign-out" class="btn btn-info" hidden=true>Login</button>
        {% endblock %}
    {% endif %}
</div>

<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-analytics.js"></script>

<script>
// Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyC74dkaS3IJyIEX1kPhlCj9nk2IjXCFxMw",
        authDomain: "synthetic-cargo-328708.firebaseapp.com",
        projectId: "synthetic-cargo-328708",
        storageBucket: "synthetic-cargo-328708.appspot.com",
        messagingSenderId: "986352342380",
        appId: "1:986352342380:web:81571148d8681c150fcf49",
        measurementId: "G-9QHB47N9FV"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
</script>

{% endblock %}